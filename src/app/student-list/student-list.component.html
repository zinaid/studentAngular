<!-- student-list.component.html -->

<div class="container mt-4">
    <h2>Student List</h2>
  
    <!-- List of Students -->
    <ul class="list-group mt-3">
      <li *ngFor="let student of students" class="list-group-item">
        <h4>{{ student.name }} {{ student.lastname }}</h4>
        <p><strong>Indeks:</strong> {{ student.indeks }}</p>
        <p><strong>Semestar:</strong> {{ student.semestar }}</p>
        <p><strong>Godina:</strong> {{ student.year }}</p>
        <p><strong>Odsjek:</strong> {{ student.odsjek }}</p>
        <p><strong>Smjer:</strong> {{ student.smjer }}</p>
  
        <!-- Internships -->
        <h5>Praksa</h5>
        <ul class="list-group">
          <li class="list-group-item">
            <p><strong>Tip:</strong> {{ student.internship_type }}</p>
            <p><strong>Status:</strong> {{ student.internship_status }}</p>
            <p><strong>Naziv firme:</strong> {{ student.internship_companyName }}</p>
            <p><strong>Tema:</strong> {{ student.internship_topic }}</p>
            <p><strong>Komentar:</strong> {{ student.internship_comment }}</p>
          </li>
        </ul>
  
        <div>
          <button class="btn btn-sm btn-primary mx-2 mt-3" (click)="editStudent(student)">Edit</button>
          <button class="btn btn-sm btn-danger mt-3" (click)="deleteStudent(student.id)">Delete</button>
        </div>
      </li>
    </ul>
  
    <!-- Add/Edit Student Form -->
    <form class="mt-3">
      <div class="form-group">
        <input type="text" class="form-control" [(ngModel)]="newStudent.name" name="name" placeholder="Ime studenta" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.lastname" name="lastname" placeholder="Prezime studenta" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.indeks" name="indeks" placeholder="Indeks" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.semestar" name="semestar" placeholder="Semestar" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.year" name="year" placeholder="Godina" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.odsjek" name="odsjek" placeholder="Odsjek" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.smjer" name="smjer" placeholder="Smjer" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.internship_type" name="internship_type" placeholder="Tip prakse" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.internship_status" name="internship_status" placeholder="Status" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.internship_topic" name="internship_topic" placeholder="Tema" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.internship_companyName" name="internship_companyName" placeholder="Naziv kompanije" />
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" [(ngModel)]="newStudent.internship_comment" name="internship_comment" placeholder="Komentar" />
      </div>
      <!-- Add Internship Fields Here -->
      <button class="btn btn-success mt-2 mx-2" (click)="addOrUpdateStudent()">{{ isEditing ? "Update Student" : "Add Student" }}</button>
      <button class="btn btn-secondary mt-2" (click)="cancelEdit()">Cancel</button>
    </form>
  </div>
  